{"ast":null,"code":"import _regeneratorRuntime from\"C:/Coding Stuff/ElectronicWebsite/elsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Coding Stuff/ElectronicWebsite/elsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Coding Stuff/ElectronicWebsite/elsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";// import \"./transactionPage.css\";\nimport instance from\"./axios.js\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Transaction=function Transaction(_ref){var account=_ref.account;// console.log(account);\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:account===null||account===void 0?void 0:account.name}),/*#__PURE__*/_jsx(\"td\",{children:account===null||account===void 0?void 0:account.subtype}),/*#__PURE__*/_jsx(\"td\",{children:account===null||account===void 0?void 0:account.balances.current})]});};var TransactionPage=function TransactionPage(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var _useState3=useState({accounts:[]}),_useState4=_slicedToArray(_useState3,2),mainAcc=_useState4[0],setMainAcc=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var renderAccounts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return instance.post(\"/balance\",{access_token:\"access-sandbox-4acad0a3-4e55-4ecc-8a16-8114123c22c4\"}).then(function(res){// console.log(res);\nsetMainAcc({accounts:res.data.accounts});// console.log(\"acc2\");\n// console.log(mainAcc);\n// console.log(\"acc2\");\n// console.log(mainAcc);\nsetLoading(false);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function renderAccounts(){return _ref2.apply(this,arguments);};}();useEffect(function(){renderAccounts();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var transactionList=function transactionList(page){var _mainAcc$accounts;// console.log(\"acc\");\n// console.log(mainAcc.accounts);\nreturn(_mainAcc$accounts=mainAcc.accounts)===null||_mainAcc$accounts===void 0?void 0:_mainAcc$accounts.map(function(currentAccount,i){// console.log(\"curr Acc\");\n// console.log(currentAccount);\nreturn/*#__PURE__*/_jsx(Transaction,{account:currentAccount},i);// console.log(\"?\");\n// return <h1>hello</h1>;\n});};return/*#__PURE__*/_jsx(\"div\",{id:\"background\",children:/*#__PURE__*/_jsx(\"div\",{id:\"container\",class:\"tbl-header\",children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Currently Loading...\"}):/*#__PURE__*/_jsxs(\"table\",{cellPadding:\"0\",cellSpacing:\"0\",border:\"0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"tbl-header\",cellPadding:\"0\",cellSpacing:\"0\",border:\"0\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Institution Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Account Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Balance\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"tbl-content\",cellPadding:\"0\",cellSpacing:\"0\",border:\"0\",children:transactionList()})]})})});};export default TransactionPage;","map":{"version":3,"sources":["C:/Coding Stuff/ElectronicWebsite/elsite/src/components/transactionPage.js"],"names":["React","instance","useEffect","useState","Transaction","account","name","subtype","balances","current","TransactionPage","page","setPage","accounts","mainAcc","setMainAcc","loading","setLoading","renderAccounts","post","access_token","then","res","data","console","log","transactionList","map","currentAccount","i"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACjC;AACA,mBACI,mCACI,oBAAKA,OAAL,SAAKA,OAAL,iBAAKA,OAAO,CAAEC,IAAd,EADJ,cAEI,oBAAKD,OAAL,SAAKA,OAAL,iBAAKA,OAAO,CAAEE,OAAd,EAFJ,cAGI,oBAAKF,OAAL,SAAKA,OAAL,iBAAKA,OAAO,CAAEG,QAAT,CAAkBC,OAAvB,EAHJ,GADJ,CAOH,CATD,CAWA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1B,cAAwBP,QAAQ,CAAC,CAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACA,eAA8BT,QAAQ,CAAC,CAAEU,QAAQ,CAAE,EAAZ,CAAD,CAAtC,yCAAOC,OAAP,eAAgBC,UAAhB,eACA,eAA8BZ,QAAQ,CAAC,IAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,cAAc,2FAAG,yKAETjB,CAAAA,QAAQ,CACTkB,IADC,CACI,UADJ,CACgB,CACdC,YAAY,CAAE,qDADA,CADhB,EAIDC,IAJC,CAII,SAACC,GAAD,CAAS,CACX;AAEAP,UAAU,CAAC,CAAEF,QAAQ,CAAES,GAAG,CAACC,IAAJ,CAASV,QAArB,CAAD,CAAV,CACA;AACA;AADA;AACA;AACAI,UAAU,CAAC,KAAD,CAAV,CACH,CAXC,CAFS,sFAefO,OAAO,CAACC,GAAR,cAfe,mEAAH,kBAAdP,CAAAA,cAAc,2CAApB,CAmBAhB,SAAS,CAAC,UAAM,CACZgB,cAAc,GACd;AACH,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMQ,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACf,IAAD,CAAU,uBAC9B;AACA;AACA,yBAAOG,OAAO,CAACD,QAAf,4CAAO,kBAAkBc,GAAlB,CAAsB,SAACC,cAAD,CAAiBC,CAAjB,CAAuB,CAChD;AACA;AAEA,mBAAO,KAAC,WAAD,EAAqB,OAAO,CAAED,cAA9B,EAAkBC,CAAlB,CAAP,CACA;AACA;AACH,CAPM,CAAP,CAQH,CAXD,CAaA,mBACI,YAAK,EAAE,CAAC,YAAR,uBACI,YAAK,EAAE,CAAC,WAAR,CAAoB,KAAK,CAAC,YAA1B,UACKb,OAAO,cACJ,2CADI,cAGJ,eAAO,WAAW,CAAC,GAAnB,CAAuB,WAAW,CAAC,GAAnC,CAAuC,MAAM,CAAC,GAA9C,wBACI,cAAO,SAAS,CAAC,YAAjB,CAA8B,WAAW,CAAC,GAA1C,CAA8C,WAAW,CAAC,GAA1D,CAA8D,MAAM,CAAC,GAArE,uBACI,mCACI,wCADJ,cAEI,oCAFJ,cAGI,+BAHJ,GADJ,EADJ,cAQI,cAAO,SAAS,CAAC,aAAjB,CAA+B,WAAW,CAAC,GAA3C,CAA+C,WAAW,CAAC,GAA3D,CAA+D,MAAM,CAAC,GAAtE,UACKU,eAAe,EADpB,EARJ,GAJR,EADJ,EADJ,CAsBH,CAhED,CAkEA,cAAehB,CAAAA,eAAf","sourcesContent":["import React from \"react\";\r\n// import \"./transactionPage.css\";\r\nimport instance from \"./axios.js\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Transaction = ({ account }) => {\r\n    // console.log(account);\r\n    return (\r\n        <tr>\r\n            <td>{account?.name}</td>\r\n            <td>{account?.subtype}</td>\r\n            <td>{account?.balances.current}</td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nconst TransactionPage = () => {\r\n    const [page, setPage] = useState(0);\r\n    const [mainAcc, setMainAcc] = useState({ accounts: [] });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const renderAccounts = async () => {\r\n        try {\r\n            await instance\r\n                .post(\"/balance\", {\r\n                    access_token: \"access-sandbox-4acad0a3-4e55-4ecc-8a16-8114123c22c4\",\r\n                })\r\n                .then((res) => {\r\n                    // console.log(res);\r\n\r\n                    setMainAcc({ accounts: res.data.accounts });\r\n                    // console.log(\"acc2\");\r\n                    // console.log(mainAcc);\r\n                    setLoading(false);\r\n                });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        renderAccounts();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const transactionList = (page) => {\r\n        // console.log(\"acc\");\r\n        // console.log(mainAcc.accounts);\r\n        return mainAcc.accounts?.map((currentAccount, i) => {\r\n            // console.log(\"curr Acc\");\r\n            // console.log(currentAccount);\r\n\r\n            return <Transaction key={i} account={currentAccount} />;\r\n            // console.log(\"?\");\r\n            // return <h1>hello</h1>;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div id=\"background\">\r\n            <div id=\"container\" class=\"tbl-header\">\r\n                {loading ? (\r\n                    <p>Currently Loading...</p>\r\n                ) : (\r\n                    <table cellPadding=\"0\" cellSpacing=\"0\" border=\"0\">\r\n                        <thead className=\"tbl-header\" cellPadding=\"0\" cellSpacing=\"0\" border=\"0\">\r\n                            <tr>\r\n                                <th>Institution Name</th>\r\n                                <th>Account Type</th>\r\n                                <th>Balance</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody className=\"tbl-content\" cellPadding=\"0\" cellSpacing=\"0\" border=\"0\">\r\n                            {transactionList()}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TransactionPage;\r\n"]},"metadata":{},"sourceType":"module"}